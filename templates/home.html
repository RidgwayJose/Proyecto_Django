{% extends 'plantilla_padre.html' %}
{% block title %} Lista de Productos{% endblock title %}
{% block encabezado %}
<link href="../crud/static/css/flex.css">
<header style="width: 98%; margin: 1%; border: 1px solid black;background: rgba(255, 255, 255, 0.664); border-radius: 10px; font-family: 'Courier New', Courier, monospace;">
  <div class="card-body d-flex">
  <h1 style=" color: rgb(0, 0, 0);margin-top: 10px;">LISTA DE PRODUCTOS</h1>
  <a onclick="abrir_modal_edicion('{% url 'createProduct' %}')" class="btn btn-primary" role="button" type ="submit" style="font-size: 20px; color: rgba(247, 47, 47, 0.568); margin: auto;margin-left: 20px; font-family: italic;; border-radius: 5000px;border: 1px solid rgb(247, 47, 47); background-color: white;">Agregar</a>
</div>
</header>
{% endblock encabezado %}
{% block content %}
<div>
  <table class="table table-striped" style="width: 98%; margin-left: 1%; border: 1px solid black; margin-top: 50px;">
    <tr style="text-align: center; background: rgb(255, 255, 255);">
      <th style="">Codigo</th>
      <th>Producto</th>
      <th>Marca</th>
      <th>Categoria</th>
      <th>Precio</th>
      <th>Stock</th>
      <th>Imagen</th>
      <th>Opciones</th>
    </tr>
    <tr>
      <tb>
        {% for p in Productos %}
        <tr style="text-align: center; background: rgb(255, 255, 255);">
          <td>{{p.f_id}}</td>
          <td>{{p.name}}</td>
          <td>{{p.brand}}</td>
          <td>{{p.category}}</td>
          <td>{{p.price}}</td>
          <td>{{p.stock}}</td>
          <td><img src="{{p.image.url}}" alt="" style="width: 100px;"></td>
          <td>
            <a onclick="abrir_modal_edicion('{% url 'editProduct' p.id %}')" class="btn btn-primary" role="button"><img src="https://cdn-icons-png.flaticon.com/512/45/45406.png" width="30px"></a>
            <a onclick="abrir_modal_edicion('{% url 'deleteProduct' p.id %}')" class="btn btn-danger" role="boton" ><img src="https://cdn-icons-png.flaticon.com/512/88/88666.png" width="30px"></a>
          </td>
        </tr>
        {% endfor %}
      </tb>
    </tr>
  </table>
</div>

<form action="/your-name/" method="post">
  <label for="your_name">Your name: </label>
  <input id="your_name" type="text" name="your_name" value="{{ current_name }}">
  <input type="submit" value="OK">
</form>

<div class="modal fade" id="edicion" role="dialog">
</div>
{% endblock content %}

{% block extrajs %}
<script type="text/javascript">
  function abrir_modal_edicion(url){
    $('#edicion').load(url, function(){
      $(this).modal('show');
    });
  }
</script>
{% endblock extrajs %}
